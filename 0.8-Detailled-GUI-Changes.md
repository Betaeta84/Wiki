# Non-comprehensive list of changes since first release of 0.8
## Grid, Magnet-Lines, Snap-Points
### Magnet-Lines

## Area-Tool

### Additional Grid-Types
#### Command 'scene grid'
A new 'grid' command in the scene-context to allow a secondary rectangular grid with optional scaling and shifted origin (main use case rotary) as well as a circular grid (mainly for Galvo).
![circ_grid1](https://user-images.githubusercontent.com/2670784/167685047-c6e777c2-0885-4a85-b52b-dcdd8c8d8dc9.gif)

![circ_grid2](https://user-images.githubusercontent.com/2670784/167685072-b7c179df-8827-41d7-9d94-9834ec45c666.gif)

```
scene grid
```
displays the current parameters, e.g.
```
[20:04:09] scene grid
[20:04:09]     Grid-Parameters:
[20:04:09]     Primary: On
[20:04:09]     Secondary: On
[20:04:09]        scale-x: 3.00
[20:04:09]        scale-y: 1.50
[20:04:09]     Circular: On
```

```
scene grid primary
```
toggles the primary grid

```
scene grid secondary <cx> <cy> <scalex> <scaley>
```
toggles the secondary grid and sets the center to \<cx\> \<cy\> and the scale compared to the regular coordinates.
**NB: if you dont provide any parameters then the scale defaults to that in the rotary settings**
<img width="128" alt="image" src="https://user-images.githubusercontent.com/2670784/167471286-bc2c8843-69b1-42b5-9ff5-51710a0e259a.png">

```
scene grid circular <cx> <cy>
```
toggles the circular grid and sets the center to \<cx\> \<cy\>

A simplified method of accessing the commands is via the contextmenu over the guide area:
<img width="144" alt="image" src="https://user-images.githubusercontent.com/2670784/167469844-3792ef2c-f6ce-44dd-9851-91230d978325.png">

Noteworthy:
- You may abbreviate primary, secondary and circular with p, s and c respectively
- If you omit the additional parameters for center and scaling, then the center defaults to that of the primary grid and the scale to 1.0

#### Color scheme:
There are some more commands to set the colors of the elements:
- Primary grid: scene color set guide #000000 , scene color set grid #000000
- Secondary grid: scene color set grid2 #A0A0A080 , scene color set guide2 #000000
- Circular grid: scene color set grid3 #A0A0A080 , scene color set guide3 #A0A0A080

### Context-Menu in Simulation-Pane
![simul_grid](https://user-images.githubusercontent.com/2670784/172014115-5890639a-ff64-4417-b3af-2e84cc760e16.gif)

## Editing, Selection, Quick-Color...
### Misc GUI Fixes
a) provide individual icons for the Geometry - tools:
<img width="156" alt="image" src="https://user-images.githubusercontent.com/2670784/164284602-380212f2-233e-469b-838d-14915d6656ee.png">
b) allow shift-click selection of an element to add it to the existing selection instead of selecting it solely
c) provide an option to draw selection handles outside of the bbox to provide better visibilty to smaller elements (might need default transparency still):
<img width="165" alt="image" src="https://user-images.githubusercontent.com/2670784/164399105-9d0c1181-98df-4479-bd07-a9fa16cc40c4.png">
<img width="400" alt="image" src="https://user-images.githubusercontent.com/2670784/164399638-d0ffbfa5-3df2-4371-b36f-a5e38c4cabfe.png">

### Allow individual mass changes
Extend the functionality of the position panel to allow mass-changes of width / height / X / Y
![position](https://user-images.githubusercontent.com/2670784/166329328-28c8d971-bf6f-430a-a291-4f214b11bb8c.gif)

### Single-Click-Selection
Allow two fundamentally different single-click selections:
- left-click - choose the smallest element under the mouse-cursor
- ctrl+left-click - choose the largest element under the mouse-cursor
This default behaviour can be toggled under preferences  
<img width="353" alt="image" src="https://user-images.githubusercontent.com/2670784/170845136-3db1a97f-25ad-4e9e-a1de-63280e569857.png">

### Remember the last used colors for stroke and fill for the creation of new elements
<img width="600" src="https://user-images.githubusercontent.com/2670784/171034277-847ee1db-d98a-443d-8704-6fb7926b6ccc.gif">

## Tools
### Support for Line-Cap + Line-join
Recognises SVG stroke-linecap and stroke-linejoin attributes 
Adds linecap and linejoin commands:
```
[21:39:50] help linecap
[21:39:50]     	linecap <cap:str>
[21:39:50]     	(elements) -> linecap -> (elements)
[21:39:50]     	Argument: str 'cap':
[21:39:50]     		Linecap to apply to the path (one of butt, round, square)
[21:39:50]     	Option: str ('--filter', '-f'):
[21:39:50]     		Filter indexes
[21:39:57] help linejoin
[21:39:57]     	linejoin <join:str>
[21:39:57]     	(None) -> linejoin -> (elements)
[21:39:57]     	Argument: str 'join':
[21:39:57]     		jointype to apply to the path (one of arcs, bevel, miter, miter-clip, round)
[21:39:57]     	Option: str ('--filter', '-f'):
[21:39:57]     		Filter indexes
[21:39:57]     
```
### Fill-Rule attribute
Acknowledge fill-rule attribute:
<img width="375" alt="image" src="https://user-images.githubusercontent.com/2670784/170742198-8b823a7f-7f58-4496-87ea-bf8cbf112084.png">
New command: fillrule

### New Area-Tool
#### Additional tool to measure (a polygon)
Line lengths and contained area.
![measure](https://user-images.githubusercontent.com/2670784/165288203-9dd63105-6fc1-4fd1-a56a-507752784852.gif)

#### area-Command
With the new _area_ command you will get information of the covered area of an element:
![grafik](https://user-images.githubusercontent.com/2670784/165368900-03c8fe50-8841-4b6a-bd50-ed82b91498f7.png)

You can also use the command to resize the object that it covers a desired space:
```
area 
(elements) -> area -> (elements)
Option: area ('--new_area', '-n'):
    provide a new area to cover
```
Notabene: the value you provide, e.g. 6cm is actually consired to be 6**cmÂ²**
![area](https://user-images.githubusercontent.com/2670784/165369107-47b6eee4-8297-4ae7-a2e1-3065d79d6ac1.gif)
## Text-Elements
### Text-Entry
Extended the Text-Tool (a simple textentry so far):
<img width="600" alt="image" src="https://user-images.githubusercontent.com/2670784/169061015-1a03acc9-c7b9-4e9c-b837-039cb0fc663d.png">

### Limited Support for SVG-Font-Attributes
E.g. the famous wiki-svg-file (https://upload.wikimedia.org/wikipedia/commons/b/bd/Test.svg) looks now:
<img width="290" alt="image" src="https://user-images.githubusercontent.com/2670784/168773425-c62b5c64-72b0-461c-90c1-546fabd30899.png">

- The text bboxes take now the font-attribute descent into consideration:
before:
<img width="283" alt="image" src="https://user-images.githubusercontent.com/2670784/168772549-4eb0defc-f0f7-4782-b58e-d61dbe733d3e.png">
now:
<img width="316" alt="image" src="https://user-images.githubusercontent.com/2670784/168772191-0183c1ab-43ae-44bf-a358-5754d73388a1.png">

### Wordlist

#### wordlist commands
```
[01:37:31]     --- wordlist Commands ---
[01:37:31]     add             add value to wordlist
[01:37:31]     addcounter      add numeric counter to wordlist
[01:37:31]     backup          Saves the current wordlist
[01:37:31]     get             get current value from wordlist
[01:37:31]     index           sets index in wordlist
[01:37:31]     list            list wordlist values
[01:37:31]     load            Attach a csv-file to the wordlist
[01:37:31]     restore         Loads a previously saved wordlist
[01:37:31]     set             set value to wordlist
```
#### Switching between variable-view and regular view
![image](https://user-images.githubusercontent.com/2670784/169625106-ccaaaa9f-6937-4857-b5b3-e8ca2cdf97a7.png)

#### User defined formats for date and time
![image](https://user-images.githubusercontent.com/2670784/169625022-6d0e1de3-b9c3-46b5-8975-d179cb893814.png)
![image](https://user-images.githubusercontent.com/2670784/169625040-405d742e-456b-44bb-8420-40c2ffd12554.png)
See [python documentation](https://docs.python.org/3/library/datetime.html#strftime-and-strptime-format-codes) for available format codes

#### GUI-Editor
![image](https://user-images.githubusercontent.com/2670784/169625175-4e394951-7a4a-41ae-add5-cf4e16d4ed42.png)
##### Editing
You may delete or add a new wordlist pattern by using the Add text/AddCounter/Delete Buttons and you can edit individual (content) entries by slow-clicking on the relevant value:
![image](https://user-images.githubusercontent.com/2670784/169625253-24af6767-8706-459b-b53a-783472bf5a6e.png)

##### Import of csv-files and using indexes and offsets
First of all you can import a CSV-file:
![image](https://user-images.githubusercontent.com/2670784/169625307-00109c98-db27-43d3-801f-4f96cea5bf51.png)
This will add corresponding wordlist entries with all their content of the file associated to them:
![image](https://user-images.githubusercontent.com/2670784/169625353-ddf28132-a310-467c-a056-c5908fb843fc.png)

The index-value corresponds to the active dataset in the csv-file (highlighted by a red text entry in the right content-grid)
So the usage of {data} in the above example will use the active entry (in our case the "2")
You can add additional data from the next row, the row after that etc. by using the "#+num" modifier:
{data} provides you with the current dataset
{data#+1} with the next entry
{data#+2} with the one after that
and so on.
![image](https://user-images.githubusercontent.com/2670784/169625956-953f0892-286e-4e00-b131-0e72f817f28f.png)
![image](https://user-images.githubusercontent.com/2670784/169626011-71735eaa-4756-47dd-896d-8aca23680d24.png)

You can also use {data#-1} which will give you the previous entry, or if you omit the "+" or "-" in front of the shift-number, then this will be considered the entry from exactly this row: {data#4} will give you always the value from the 5th row regardless where the current index resides (notabene the index is deemed to be zero-based).

If you would change the index for instance to "5" (i.e. the 6th row in the csv-file) then all textboxes will update accordingly:
![image](https://user-images.githubusercontent.com/2670784/169626171-f511579b-4bb9-4ed8-af52-c79778233c90.png)
![image](https://user-images.githubusercontent.com/2670784/169626185-f168d986-95ae-4038-98ba-bdb7926825ff.png)

##### Saving and loading of a wordlist
You can backup and restore your wordlist:
![image](https://user-images.githubusercontent.com/2670784/169626216-66936c1c-9a1b-4beb-9009-3dfd347a87f4.png)
